(this.webpackJsonpnews_app=this.webpackJsonpnews_app||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},113:function(e,t,n){},519:function(e,t){},520:function(e,t,n){},521:function(e,t,n){},522:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),c=n(36),i=n.n(c),o=(n(103),n(96),n(15)),l=n(18),r=n(13),d=(n(104),n(105),n.p+"static/media/logo.7c930051.PNG"),j=n(94),u=n.n(j),m=n(93),b=n.n(m),h=n(4);var g=function(e){return Object(h.jsxs)("div",{className:"Header",children:[Object(h.jsx)(l.b,{to:"/list",children:Object(h.jsxs)("div",{className:"Left",children:[Object(h.jsx)("img",{className:"Logo",src:d}),Object(h.jsx)("div",{className:"LogoText",children:"in Kuwait"})]})}),Object(h.jsxs)("div",{className:"Right",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"input-group",children:[Object(h.jsx)("div",{className:"form-outline",children:Object(h.jsx)("input",{type:"search",id:"search",className:"form-control Search",placeholder:"Search"})}),Object(h.jsx)("i",{className:"fas fa-search btn SearchIcon"})]})}),Object(h.jsx)("div",{children:Object(h.jsx)(l.b,{to:"/list",children:Object(h.jsx)(b.a,{})})}),Object(h.jsx)("div",{className:"AddIcon",children:Object(h.jsx)(l.b,{to:"/add",children:Object(h.jsx)(u.a,{})})})]})]})},p=n(31),O=n(29),f=n(64),x=n.n(f),w=n(95),A=(n(113),n.p,n(46)),N=A.a.initializeApp({apiKey:"AIzaSyC9-2sBoYZ7de1AsR8RclN1h7U-RGcMElo",authDomain:"in-kuwait.firebaseapp.com",projectId:"in-kuwait",storageBucket:"in-kuwait.appspot.com",messagingSenderId:"890129110623",appId:"1:890129110623:web:ecc7f97a2b547a97046dea",measurementId:"G-GZNW5J7SQH"}).firestore(),v=A.a.auth(),y=(A.a.firestore.FieldValue.serverTimestamp(),n(14)),C=n.n(y),S=n(39),k=n.n(S),U="https://glow-data-storage.fra1.digitaloceanspaces.com",I=(new k.a.Endpoint(U),new k.a.S3({endpoint:U,accessKeyId:"3PJRQW5WYUOHR3UDAPCS",secretAccessKey:"mzBAvFa2dLTdEn6KR0quEP9s4xtmxARmVHPnEBFJ7F0"}));var R=function(e){Object(r.h)();var t=Object(s.useState)({id:e.id,title:e.showTitle,news:e.showNews,newsLink:e.showNewsLink,imageUrl:e.imageUrl,category:e.showCategory}),n=Object(o.a)(t,2),a=n[0],c=(n[1],Object(r.g)(),function(t){C.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#0cff00",confirmButtonText:"Yes, delete it!"}).then(function(){var t=Object(w.a)(x.a.mark((function t(n){var s,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=13;break}return console.log(e.id),C.a.showLoading(),t.next=5,N.collection("News").doc(e.id).delete();case 5:s=a.imageUrl.replace("https://glow-data-storage.fra1.digitaloceanspaces.com/",""),console.log(s),"fra1.digitaloceanspaces.com","3PJRQW5WYUOHR3UDAPCS","mzBAvFa2dLTdEn6KR0quEP9s4xtmxARmVHPnEBFJ7F0",c=new k.a.Endpoint("fra1.digitaloceanspaces.com"),new k.a.S3({endpoint:c,accessKeyId:"3PJRQW5WYUOHR3UDAPCS",secretAccessKey:"mzBAvFa2dLTdEn6KR0quEP9s4xtmxARmVHPnEBFJ7F0"}).deleteObject({Bucket:"glow-data-storage",Key:s},(function(e,t){e?(console.log(e,e.stack),C.a.fire({title:"Failed!",icon:"error",text:e,showConfirmButton:!0}).then((function(e){}))):(console.log(t),C.a.fire({title:"Deleted!",icon:"success",showConfirmButton:!1,timer:1500}).then((function(e){window.location.reload()})))}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())});return Object(h.jsxs)("div",{className:"Container",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"Image",children:[Object(h.jsx)("img",{className:"NewsImage",src:e.imageUrl}),Object(h.jsxs)("div",{className:"SideOptionsInImage",children:[Object(h.jsx)("button",{type:"button",className:"btn",children:Object(h.jsx)("i",{className:"fas fa-trash Delete",onClick:c})}),Object(h.jsx)("button",{type:"button",className:"btn",children:Object(h.jsx)(l.b,{to:{pathname:"/edit",id:a.id,title:a.title,news:a.news,newsLink:a.newsLink,category:a.category,imageUrl:a.imageUrl},className:"editButton",children:Object(h.jsx)("i",{className:"fas fa-edit Edit"})})})]})]})}),Object(h.jsxs)("div",{className:"NewsBorder",children:[Object(h.jsxs)("div",{className:"NewsAndDate",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"NewsTitle",children:e.showTitle}),Object(h.jsx)("p",{className:"NewsPara",children:e.showNews})]}),Object(h.jsx)("div",{className:"Published",children:e.showTimeStamp})]}),Object(h.jsxs)("div",{className:"SideOptions",children:[Object(h.jsx)("button",{type:"button",className:"btn",children:Object(h.jsx)("i",{className:"fas fa-trash Delete",onClick:c})}),Object(h.jsx)("button",{type:"button",className:"btn",children:Object(h.jsx)(l.b,{to:{pathname:"/edit",id:a.id,title:a.title,news:a.news,newsLink:a.newsLink,category:a.category,imageUrl:a.imageUrl},className:"editButton",children:Object(h.jsx)("i",{className:"fas fa-edit Edit"})})})]})]})]})},B=(n(91),n(92),n(540)),L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASIAAACuCAMAAAClZfCTAAAAIVBMVEX19fXd3d3z8/Pq6urb29vi4uLx8fHt7e3n5+fk5OTf39/UY198AAACNElEQVR4nO3a4Y6rIBCGYRUE9P4veO0KijB022xSTOd9zj/Xk9AvMgjOMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgDualrGy+t6juhNXB7Sxofe4bmQVIxqt6z2w25jkhMbR9B7ZbcjzbMNMS3wroqX3yG7DtCJae4+sm+lqEFb8FNFU3qtCaAXyilVDSN7+J6Jx7j3+D2gWnkYkFzrK05OI1sV457wJ2avk9T9b1RHZOduTTcdd19qjOqK13GwEIro+QsJ7tPudbi5f8p3iWiSfe8zS0/bh4fYgRdQ6GRJOAJRGdG7oJx+CyaoSEe2Ot0GfZtZRmer3TJ0RpUVryfJIU6/avqmMKJ14XAqPjRlVR0kqI4qlp3xe4uVyVdMYUfzNVdVJ14koleZ6fd+nWnmurTGiPQlXH5HEha7ITmNETrz6sN9fFCOFEdl9yZeOIve/FGVcY0T7VSLK8BT9Sa5Fwqe0GAa1KO1h6xUtvnWzoqUkqs1Y7HmYiuw0RhR/c7UZW57e/tWqN6C4YTVWjKJ861YZUTouCpeM4gkJO/38McpWNXu0hFRbN50Rnb/arKPd/i3ulZu/l7Aby9uInMu+nAm9WUojanWjSQ1+WiOSMxL7+9RGJPXEyDfqjajqjnXSp1jlEW2z7fzG6OdWo5buiB4NRsGYsDQ61YnoNRoiEg7y36GiFbvZiE5Cp7KZ+g29hw4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIbhB3oYDvixwDtCAAAAAElFTkSuQmCC",F="https://glow-data-storage.fra1.digitaloceanspaces.com/",E="InKuwait";var T=function(){var e=Object(r.g)(),t=Object(s.useState)(L),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)(null),l=Object(o.a)(i,2),d=l[0],j=l[1],u=Object(s.useState)([]),m=Object(o.a)(u,2),b=m[0],g=m[1];console.log("props"),console.log(g);var f=new Date,x=f.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][f.getMonth()]+", "+f.getFullYear()+" at "+f.getHours()+":"+f.getMinutes(),w=Date.now(),A=Object(s.useState)({id:w,imageUrl:a,category:b,title:"",news:"",newsLink:""}),v=Object(o.a)(A,2),y=v[0],S=v[1];Object(s.useEffect)((function(){N.collection("Categories").onSnapshot((function(e){g(e.docs.map((function(e){return{title:e.data().title}})))}))}),[]);var k=function(e){var t=e.target,n=t.name,s=t.value;S((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(p.a)({},n,s))}))};return console.log("blob"),console.log(y),console.log(d),Object(h.jsxs)("div",{className:"AddNews",children:[Object(h.jsx)("div",{className:"AddImage",children:Object(h.jsxs)("div",{className:"SelectImage",children:[Object(h.jsx)("input",{type:"file",name:"imageUrl",id:"Image",accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;t.onload=function(){2===t.readyState&&c(t.result)},t.readAsDataURL(e.target.files[0]),j(e.target.files[0])}}}),Object(h.jsx)("img",{src:a,className:"ImageBorder",onChange:k}),Object(h.jsx)("label",{htmlFor:"Image",children:Object(h.jsx)("p",{className:"Add",children:"Add Image"})})]})}),Object(h.jsx)("div",{className:"Form",children:Object(h.jsxs)("form",{className:"row g-3",children:[Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("input",{type:"text",className:"form-control",id:"inputAddress",name:"title",value:y.title,onChange:k,placeholder:"Title"})}),Object(h.jsx)("div",{className:"input-group",children:Object(h.jsxs)("select",{className:"form-select Category",name:"category",id:"inputGroupSelect01",onChange:k,children:[Object(h.jsx)("option",{children:"Choose Category"}),b.map((function(e){return console.log(e.title),Object(h.jsx)("option",{value:e.title,children:e.title})}))]})}),Object(h.jsx)("div",{className:"input-group",children:Object(h.jsx)("input",{type:"text",className:"form-control",id:"inputAddress2",name:"newsLink",value:y.newsLink,onChange:k,placeholder:"News link"})}),Object(h.jsx)("div",{className:"input-group",children:Object(h.jsx)("textarea",{cols:"10",rows:"6",className:"form-control","aria-label":"With textarea",name:"news",value:y.news,onChange:k,placeholder:"News"})}),Object(h.jsx)("div",{className:"input-group text-center d-flex justify-content-center",children:Object(h.jsx)(B.a,{className:"Upload",onClick:function(t){if(""!=y.title&&""!=y.news&&a!=L){C.a.showLoading();var n=w+"."+d.name.split(".")[1],s={Body:d,Bucket:"".concat(E),Key:n};console.log(n),I.putObject(s).on("build",(function(e){e.httpRequest.headers.Host="".concat(F),e.httpRequest.headers["Content-Length"]=d.size,e.httpRequest.headers["Content-Type"]=d.type,e.httpRequest.headers["x-amz-acl"]="public-read"})).send((function(t){t?(console.log("ImageUploadingFailed"),console.log(t),C.a.fire({position:"center",icon:"error",title:"News uploading failed",text:t,showConfirmButton:!0})):(a="".concat(F).concat(E,"/").concat(n),console.log(a,d.name,d.type,d.size),N.collection("News").doc(y.id.toString()).set({id:parseInt(y.id),imageUrl:a,category:y.category,title:y.title,news:y.news,newsLink:y.newsLink,timeStamp:"Published on "+x}).then((function(){C.a.fire({position:"center",icon:"success",title:"News uploaded successfully",showConfirmButton:!1,timer:1200}).then((function(t){e.push("./list")}))})).catch((function(e){console.log("Got an error ",e),C.a.fire({position:"center",icon:"error",title:"News uploading failed",text:e,showConfirmButton:!0})})))}))}else C.a.fire({icon:"error",title:"Fields can't be empty",confirmButtonColor:"#378afc"})},children:"Upload"})})]})})]})};n(519);var J=function(e){var t=Object(r.g)(),n=(Object(r.i)().params,Object(s.useState)(null)),a=Object(o.a)(n,2),c=a[0],i=a[1],l=t.location,d=Object(s.useState)(l.imageUrl),j=Object(o.a)(d,2),u=j[0],m=j[1],b=Object(s.useState)([]),g=Object(o.a)(b,2),f=g[0],x=g[1];console.log("sss"),console.log(f);var w=new Date,A=w.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][w.getMonth()]+", "+w.getFullYear()+" at "+w.getHours()+":"+w.getMinutes()+" "+(w.getHours()>11?"pm":"am"),v=Object(s.useState)({id:l.id,title:l.title,news:l.news,newsLink:l.newsLink,imageUrl:u,category:l.category,timestamp:A}),y=Object(o.a)(v,2),S=y[0],k=y[1];Object(s.useEffect)((function(){N.collection("Categories").onSnapshot((function(e){x(e.docs.map((function(e){return{title:e.data().title}})))}))}),[]);var U=function(e){var t=e.target,n=t.name,s=t.value;k((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(p.a)({},n,s))}))};function R(){N.collection("News").doc(S.id.toString()).set({id:parseInt(S.id),imageUrl:u,category:S.category,title:S.title,news:S.news,newsLink:S.newsLink,timeStamp:"Updated at "+A}).then((function(){console.log("uploaded"),C.a.fire({position:"center",icon:"success",title:"News updated successfully",showConfirmButton:!1,timer:1200}).then((function(e){t.push("./list")}))})).catch((function(e){console.log("Got an error ",e),C.a.fire({position:"center",icon:"error",title:"News update failed",text:e,showConfirmButton:!0})}))}return console.log("eee"),console.log(S),Object(h.jsxs)("div",{className:"AddNews",children:[Object(h.jsxs)("div",{className:"AddImage",children:[Object(h.jsxs)("div",{className:"SelectImage",children:[Object(h.jsx)("input",{type:"file",name:"imageUrl",id:"Image",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(console.log("reader.result and editNews"),console.log(t.result),m(t.result))},t.readAsDataURL(e.target.files[0]),i(e.target.files[0])}})," ",Object(h.jsx)("img",{src:u,className:"ImageBorder",onChange:U})," ",Object(h.jsxs)("label",{htmlFor:"Image",children:[Object(h.jsx)("p",{className:"Add",children:" Change Image "})," "]})," "]})," "]})," ",Object(h.jsxs)("div",{className:"Form",children:[Object(h.jsxs)("form",{className:"row g-3",children:[Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("input",{type:"text",className:"form-control",id:"inputAddress",name:"title",value:S.title,onChange:U,placeholder:"Title"})})," ",Object(h.jsxs)("div",{className:"input-group",children:[Object(h.jsxs)("select",{className:"form-select Category",name:"category",onChange:U,id:"inputGroupSelect01",children:[Object(h.jsxs)("option",{value:S.category,children:[" ",S.category," "]})," ",f.map((function(e){if(e.title!=l.category)return console.log(e.title),Object(h.jsxs)("option",{value:e.title,children:[" ",e.title," "]})}))," "]})," "]})," ",Object(h.jsx)("div",{className:"input-group",children:Object(h.jsx)("input",{type:"text",className:"form-control",id:"inputAddress2",name:"newsLink",value:S.newsLink,onChange:U,placeholder:"News link"})})," ",Object(h.jsxs)("div",{className:"input-group",children:[Object(h.jsx)("textarea",{cols:"10",rows:"6",className:"form-control","aria-label":"With textarea",name:"news",value:S.news,onChange:U,placeholder:"News",children:" "})," "]})," ",Object(h.jsxs)("div",{className:"input-group text-center d-flex justify-content-center",children:[Object(h.jsx)(B.a,{className:"Upload",onClick:function(e){if(""!=S.title&&""!=S.news)if(C.a.showLoading(),u!=S.imageUrl){var t=S.id+"."+c.name.split(".")[1],n={Body:c,Bucket:"".concat(E),Key:t};I.putObject(n).on("build",(function(e){e.httpRequest.headers.Host="".concat(F),e.httpRequest.headers["Content-Length"]=c.size,e.httpRequest.headers["Content-Type"]=c.type,e.httpRequest.headers["x-amz-acl"]="public-read"})).send((function(e){e?(console.log("ImageUploadingFailed"),console.log(e),C.a.fire({position:"center",icon:"error",title:"News uploading failed",text:e,showConfirmButton:!0})):(u="".concat(F).concat(E,"/").concat(t),console.log(u,c.name,c.type,c.size),R())}))}else R();else C.a.fire({icon:"error",title:"Fields can't be empty",confirmButtonColor:"#378afc"})},children:" Update "})," "]})," "]})," "]})," "]})};n(520);var q=function(){return Object(h.jsx)("section",{children:Object(h.jsx)("div",{className:"Footer",children:Object(h.jsx)("center",{children:Object(h.jsx)("p",{children:"Know Events, business, tech, restaurants, offers and more in Kuwait"})})})})};n(521);var D=function(){var e=Object(r.g)(),t=Object(s.useState)(""),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)(""),l=Object(o.a)(i,2),j=l[0],u=l[1];return Object(h.jsx)("div",{className:"Login",children:Object(h.jsxs)("div",{className:"login_conatainer",children:[Object(h.jsx)("div",{className:"LogoCenter",children:Object(h.jsx)("img",{src:d,className:"LogoInLogin"})}),Object(h.jsxs)("form",{className:"row g-3",children:[Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("input",{type:"email",className:"form-control",id:"inputAddress",name:"email",value:a,onChange:function(e){return c(e.target.value)},placeholder:"email"})}),Object(h.jsx)("div",{className:"input-group",children:Object(h.jsx)("input",{type:"password",className:"form-control",id:"inputAddress2",name:"password",value:j,onChange:function(e){return u(e.target.value)},placeholder:"password"})}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{className:"input-group  Center",children:Object(h.jsx)(B.a,{className:"SignIn",onClick:function(t){C.a.showLoading(),t.preventDefault(),v.signInWithEmailAndPassword(a,j).then((function(t){e.push("/list"),C.a.fire({position:"center",icon:"success",timer:1500})})).catch((function(e){return C.a.fire({title:e.message,position:"center",icon:"error",showConfirmButton:!0,confirmButtonColor:"#378afc"})}))},children:"Sign In"})})]})]})})};var P=function(e){Object(r.g)(),Object(r.h)();var t=Object(s.useState)(""),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)([]),d=Object(o.a)(i,2),j=d[0],u=d[1],m=Object(s.useState)([]),b=Object(o.a)(m,2),p=(b[0],b[1],Object(s.useState)([])),O=Object(o.a)(p,2);return O[0],O[1],Object(s.useEffect)((function(){v.onAuthStateChanged((function(e){c(e||"")})),N.collection("News").orderBy("id","desc").onSnapshot((function(e){u(e.docs.map((function(e){return{id:e.id,imageUrl:e.data().imageUrl,newsLink:e.data().newsLink,category:e.data().category,title:e.data().title,news:e.data().news,timeStamp:e.data().timeStamp}})))}))}),[]),console.log("hh"),console.log(j),Object(h.jsx)(l.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(g,{id:"header"}),Object(h.jsx)(r.d,{children:a?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(r.a,{from:"/",to:"/list"}),Object(h.jsxs)(r.b,{path:"/add",children:[Object(h.jsx)("div",{style:{height:"80px"}}),Object(h.jsx)(T,{})]}),Object(h.jsxs)(r.b,{path:"/edit",children:[Object(h.jsx)("div",{style:{height:"80px"}}),Object(h.jsx)(J,{})]}),Object(h.jsxs)(r.b,{path:"/list",children:[Object(h.jsx)("div",{style:{height:"80px"}}),j.map((function(e,t){return Object(h.jsx)(R,{id:e.id,imageUrl:e.imageUrl,showTitle:e.title,showNewsLink:e.newsLink,showNews:e.news,showCategory:e.category,showTimeStamp:e.timeStamp},t)}))]})]}):Object(h.jsxs)(r.b,{path:"/",children:[Object(h.jsx)(g,{}),Object(h.jsx)("div",{style:{height:"100px"}}),Object(h.jsx)(D,{})]})}),Object(h.jsx)(q,{})]})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,541)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(l.a,{children:Object(h.jsx)(P,{})})}),document.getElementById("root")),K()},61:function(e,t){},91:function(e,t,n){}},[[522,1,2]]]);
//# sourceMappingURL=main.7787566d.chunk.js.map